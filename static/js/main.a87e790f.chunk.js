(this["webpackJsonpgoit-react-hw-03-bank-account"]=this["webpackJsonpgoit-react-hw-03-bank-account"]||[]).push([[0],{10:function(t,e,a){t.exports={balanceStyle:"Balance_balanceStyle__2IW8F",incomeStyle:"Balance_incomeStyle__2nD8Y",expensesStyle:"Balance_expensesStyle__3ykgc"}},11:function(t,e,a){t.exports={history:"TransactionHistory_history__35O5m",historyHeadItem:"TransactionHistory_historyHeadItem__1C7CR",historyBodyItem:"TransactionHistory_historyBodyItem__23QX2"}},24:function(t,e,a){t.exports={dashboard:"Dashboard_dashboard__3oRCo"}},25:function(t,e,a){t.exports={controls:"Controls_controls__1CS_X"}},27:function(t,e,a){t.exports=a(53)},53:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(3),c=a.n(o),s=a(1),i=a(26),l=a(5),u=a(6),m=a(8),d=a(7),h=a(9),p=a(23),b=a.n(p),y=a(24),f=a.n(y),g=a(25),E=a.n(g),S=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={amount:""},a.changeHandler=function(t){var e=t.target.value,n=Number(e);a.setState({amount:n})},a.clickHandler=function(t){var e=t.target,n=a.props,r=n.toastManager,o=n.onDeposit,c=n.onWithdraw,s=e.dataset,i=a.state.amount;return i<=0?r.add("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",{appearance:"warning",autoDismiss:!0}):("deposit"===s.name&&o(i),"withdraw"===s.name&&c(i),a.setState({amount:""}))},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.state.amount,e=E.a.controls;return r.a.createElement("section",{className:e},r.a.createElement("input",{type:"number",name:"amount",value:t,onChange:this.changeHandler}),r.a.createElement("button",{type:"button","data-name":"deposit",onClick:this.clickHandler},"Deposit"),r.a.createElement("button",{type:"button","data-name":"withdraw",onClick:this.clickHandler},"Withdraw"))}}]),e}(n.Component),v=Object(s.withToastManager)(S),_=a(10),w=a.n(_),O=function(t){var e=t.balance,a=t.income,n=t.expenses,o=w.a.balanceStyle,c=w.a.incomeStyle,s=w.a.expensesStyle;return r.a.createElement("section",{className:o},r.a.createElement("span",{className:c},a,"$"),r.a.createElement("span",{className:s},n,"$"),r.a.createElement("span",null,"Balance: ".concat(e,"$")))},k=a(11),N=a.n(k),j=function(t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),e.join(".")},x=function(t){var e=t.items,a=N.a.history,n=N.a.historyBodyItem,o=N.a.historyHeadItem;return r.a.createElement("table",{className:a},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:o},"Transaction"),r.a.createElement("th",{className:o},"Amount"),r.a.createElement("th",{className:o},"Date"))),r.a.createElement("tbody",null,e.map((function(t){var e=t.id,a=t.type,o=t.amount,c=t.date,s=j(o.toFixed(2));return r.a.createElement("tr",{key:e},r.a.createElement("td",{className:n},a),r.a.createElement("td",{className:n},s,"$"),r.a.createElement("td",{className:n},c))}))))},D=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={transactions:[],balance:0},a.onDeposit=function(t){a.setState((function(e){return{balance:e.balance+t}})),a.addTransaction("deposit",t)},a.onWithdraw=function(t){var e=a.state.balance,n=a.props.toastManager;return e<t?n.add("\u041d\u0430 \u0441\u0447\u0435\u0442\u0443 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438!",{appearance:"warning",autoDismiss:!0}):(a.setState((function(e){return{balance:e.balance-t}})),a.addTransaction("withdraw",t))},a.addTransaction=function(t,e){var n={id:b()(),type:t,amount:e,date:(new Date).toLocaleString()};a.setState((function(t){return{transactions:[].concat(Object(i.a)(t.transactions),[n])}}))},a.handleSum=function(t){var e=a.state.transactions.reduce((function(e,a){return e+(a.type===t&&a.amount)}),0);return j(e.toFixed(2))},a}return Object(h.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){localStorage.length&&this.setState({transactions:JSON.parse(localStorage.getItem("transactions")),balance:JSON.parse(localStorage.getItem("balance"))})}},{key:"componentDidUpdate",value:function(){var t=this;return Object.keys(this.state).forEach((function(e){return localStorage.setItem(e,JSON.stringify(t.state[e]))}))}},{key:"render",value:function(){var t=this.state,e=t.balance,a=t.transactions,n=f.a.dashboard,o=j(e.toFixed(2)),c=this.handleSum("deposit"),s=this.handleSum("withdraw");return r.a.createElement("div",{className:n},r.a.createElement(v,{onDeposit:this.onDeposit,onWithdraw:this.onWithdraw,balance:e}),r.a.createElement(O,{balance:o,income:c,expenses:s}),a.length>0&&r.a.createElement(x,{items:a}))}}]),e}(n.Component),H=Object(s.withToastManager)(D),I=function(){return r.a.createElement(s.ToastProvider,{placement:"bottom-right"},r.a.createElement(H,null))};c.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.a87e790f.chunk.js.map